Intel:

# for one file
pip install pyinstaller
arch -x86_64 /usr/local/bin/python3 -m venv venv_intel
source venv_intel/bin/activate
arch -x86_64 pyinstaller main.spec --distpath dist_intel

# for removing security
xattr -cr main.app

# disable gatekeeper Enable "Allow apps from anywhere":
sudo spctl --master-disable

# enable
sudo spctl --master-enable

#For ARM silicon apple:
pip install pyinstaller
pyinstaller main.spec --distpath dist_arm 

#Arm uninstaller (partial)
 pyinstaller uninstaller.spec --distpath dist_arm_uninstaller

#Intel Uninstaller (partail)
pip install pyinstaller
arch -x86_64 /usr/local/bin/python3 -m venv venv_intel
source venv_intel/bin/activate
arch -x86_64 pyinstaller uninstaller.spec --distpath dist_intel_uninstaller

#for uninstaller

arch -x86_64 /usr/local/bin/python3 -m venv venv_intel                                                                                                                                                                                                              ─╯
source venv_intel/bin/activate
arch -x86_64 pyinstaller uninstaller.spec --distpath dist_uninstaller


Combine:
ARM to combine :

python3 -m venv venv_arm
source venv_arm/bin/activate
pip install pyinstaller
pyinstaller --onefile --windowed --add-data "pkgs:Resources/pkgs" --distpath dist_arm Scripts/main.py
deactivate


# Intel to combine

python3 -m venv venv_arm
source venv_arm/bin/activate
pip install pyinstaller
pyinstaller --onefile --windowed --add-data "pkgs:Resources/pkgs" --distpath dist_arm Scripts/main.py
deactivate



Combine:

lipo -create -output dist/main_universal dist/main dist/main
